<!DOCTYPE html>
<html lang="zh-TW" prefix="og: http://ogp.me/ns#">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="author" property="og:article:author" content="gholk">
    <meta name="copyright" content="Common Creative">
    <!-- 以上一般不用改，以下才要改。 -->

    <!-- 後設資料 -->
    <meta name="date" property="og:article:public_time" content="2017-03-18">
    <meta name="keywords" property="og:article:tag" content="blog,index">

    <!-- 和網頁位置有關 -->
    <link rel="icon" type="image/png" href="ext/icon.png">
    <link rel="apple-touch-icon" type="image/png" href="ext/icon.png">
    <link rel="stylesheet" type="text/css" href="ext/list.css">
    <link rel="alternate" href="atom.xml" type="application/atom+xml">
    <script src="ext/meta-bloging.js"></script>
    <title>文章列表</title>
  </head>
  <body>
    <h1>文章列表</h1>
    <h2><a href="comment.html">留言板</a></h2>
    <q id="daily-sentence"></q>
    <script>
      loadDailySentence()
      
      async function loadDailySentence() {
        const node = await ajaxQuery('key-and-lock.html', 'pre')
        const list = node.textContent.split(/\n----\n/g)
        const day = daySince(new Date('2018-04-12'))
        const sentence = list[day % list.length]
        document.querySelector('#daily-sentence').textContent = sentence
      
        function daySince(start) {
            const now = new Date()
            const msDiff = Number(start) - Number(now)
            const dayDiff = msDiff / 24 * 60 * 60 * 1000
            return Math.floor(dayDiff)
        }
      }
    </script>
      
    <main></main>
    <template id="article-template">
      <article>
        <h2><a></a></h2>
        <small class="date"></small>
        <p class="summary"></p>
        <ul></ul>
      </article>
    </template>
    <script src="ext/atom-indexing.js"></script>
    <form id="query-article">
      <h2>query by js</h2>
      <textarea name="query-statement">
title.match(/的/) &&
date &gt; new Date('2017-08-01') &&
hasTag('程式')
      </textarea>
      <label>match number: <output name="match-number"></output></label>
      <input type="submit">
      <script src="ext/searcher.js"></script>
    </form>
    <iframe id="index-chatbox"
            src="https://www2.cbox.ws/box/?boxid=2382262&boxtag=nafllg"
            allowtransparency="yes">
      <a href="//my.cbox.ws/gholk">
        你的瀏覽器不支援 iframe，請點擊觀看留言。
      </a>
    </iframe>	
  </body>
</html>


