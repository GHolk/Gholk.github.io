<!DOCTYPE html><html lang="zh-TW" prefix="og: http://ogp.me/ns#"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="author" property="og:article:author" content="gholk">
<meta name="copyright" content="Common Creative">
<meta name="generator" content="emacs, markdown">
<!-- 以上一般不用改，以下才要改。 -->

<!-- 後設資料 -->
<meta name="date" property="og:article:public_time" content="2018-01-18T03:38:50.554Z">
<meta name="keywords" property="og:article:tag" content="javascript,eval,closure">
<link rel="index" type="text/html" href="index.html" title="首頁">
<link rel="start" type="text/html" href="index.html" title="首頁">
<link rel="next" type="text/html" href="javascript-bind-last-argument.html" title="js 綁定最後一個參數">
<link rel="prev" type="text/html" href="bike-handler-angle.html" title="腳踏車龍頭螺帽的角度">

<!-- 和網頁位置有關 -->
<link rel="icon" type="image/png" href="ext/icon.png">
<link rel="apple-touch-icon" type="image/png" href="ext/icon.png">
<link rel="stylesheet" type="text/css" href="ext/padding-lot.css">
<link rel="webmention" href="https://webmention.io/gholk.github.io/webmention">
<link rel="pingback" href="https://webmention.io/gholk.github.io/xmlrpc">

<script src="ext/meta-bloging.js"></script>

<title>js 的 eval 與閉包</title>
</head>
<body>
<main><h1 id="js 的 eval 與閉包">js 的 eval 與閉包</h1>
<p>若在閉包所屬的函數中有用到 eval，
則可以由此存取閉包內的所有變數。
雖然我不懂 js 的底層是如何運作閉包的，
但至少不是 <em>只包入有用到的變數</em> ，
而是把整個環境都包入。</p>
<pre><code class="lang-js">let f
{
    let s = &#39;abc&#39;
    let i = 0
    let a = []
    let o = {}
    f = (code) =&gt; eval(code)
}
typeof f(&#39;o&#39;) // object
</code></pre>
</main>

<script defer src="ext/meta-meta.js"></script>
<script defer src="ext/load-disqus.js"></script>





</body></html>
