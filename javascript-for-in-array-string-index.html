<!DOCTYPE html><html lang="zh-TW" prefix="og: http://ogp.me/ns#"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="author" property="og:article:author" content="gholk">
<meta name="copyright" content="Common Creative">
<meta name="generator" content="emacs, markdown">
<!-- 以上一般不用改，以下才要改。 -->

<!-- 後設資料 -->
<meta name="date" property="og:article:public_time" content="2018-04-20T10:52:05.036Z">
<meta name="keywords" property="og:article:tag" content="javascript,suck">
<link rel="index" type="text/html" href="index.html" title="首頁">
<link rel="start" type="text/html" href="index.html" title="首頁">
<link rel="next" type="text/html" href="dream-mrt-tamsui-bread.html" title="夢境：捷運到淡水吃麵包">
<link rel="prev" type="text/html" href="microsoft-student-fieldwork-speech.html" title="微軟實習生通識心得">

<!-- 和網頁位置有關 -->
<link rel="icon" type="image/png" href="ext/icon.png">
<link rel="apple-touch-icon" type="image/png" href="ext/icon.png">
<link rel="stylesheet" type="text/css" href="ext/padding-lot.css">
<link rel="webmention" href="https://webmention.io/gholk.github.io/webmention">
<link rel="pingback" href="https://webmention.io/gholk.github.io/xmlrpc">

<script src="ext/meta-bloging.js"></script>

<title>javascript for in 遍歷陣列時索引是字串</title>
</head>
<body>
<main><h1 id="javascript for in 遍歷陣列時索引是字串">javascript for in 遍歷陣列時索引是字串</h1>
<p>javascript 有一個 <code>for (const key in object)</code> 的遍歷語法，
一般用來遍歷物，但也可以用來遍歷陣列：
<code>for (let i in array)</code> ；
但雷點是，就算是陣列，
這裡得到的 key 會是字串，而不是數字。
所以做加減運算時會出錯。</p>
<p><button onclick="forInLoopArray()">for in loop  array</button></p>
<script>
function forInLoopArray() {
  const a = [0,-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11]
  for (const i in a) {
    alert(i)
    alert(typeof i) // string
    alert(a[i])
    alert(a[1 + i])    // 1 + '0' = '10'
    break
  }
}
</script>

<p>看來 array 可以被 for in loop 純粹是個巧合，
因為 array 就是個物件，
而物件的索引值當然是字串。
一般用 for in loop 物件時，得到的索引本來就是字串，
而在 js 中陣列本來就是一種物件，
只是索引是用轉成數字，而且是轉成字串的數字。</p>
</main>

<script defer src="ext/meta-meta.js"></script>
<script defer src="ext/load-disqus.js"></script>





</body></html>
